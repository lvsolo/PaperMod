
title: "PointNet++"
author: "lvsolo"
date: "2023-04-10"
tags: ["paper reading", "lidar detection"]

PointNet++ æ˜¯ PointNet çš„æ”¹è¿›ç‰ˆæœ¬ï¼Œä¸»è¦ç”¨äºå¤„ç†éç»“æ„åŒ–çš„ç‚¹äº‘æ•°æ®ã€‚PointNet++ å¼•å…¥äº† **åˆ†å±‚çš„ç»“æ„** ï¼Œç±»ä¼¼äº CNN å¤„ç†å›¾åƒæ—¶çš„å¤šå±‚æ„Ÿå—é‡è®¾è®¡ï¼Œä»è€Œæ›´å¥½åœ°æ•æ‰å±€éƒ¨å‡ ä½•ç‰¹å¾ã€‚ä¸‹é¢æˆ‘ä¼šè¯¦ç»†ä»‹ç» PointNet++ çš„å…³é”®æ­¥éª¤ï¼Œå°¤å…¶æ˜¯ **ç‰¹å¾æå–éƒ¨åˆ†** çš„åšæ³•ã€‚

---

## ğŸŒŸ 1. PointNet++æ•´ä½“æµç¨‹æ¦‚è§ˆ

PointNet++ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š

* **Encoder** ï¼ˆç‰¹å¾æå–ï¼‰ï¼šé€šè¿‡åˆ†å±‚é‡‡æ · + å±€éƒ¨ç‰¹å¾å­¦ä¹ æ¨¡å—ï¼Œé€æ­¥æå–ç‚¹çš„ç©ºé—´ç‰¹å¾ã€‚
* **Decoder** ï¼ˆå¯é€‰ï¼Œç”¨äºåˆ†å‰²ä»»åŠ¡ï¼‰ï¼šå°†å±€éƒ¨ç‰¹å¾æ’å€¼å›åŸå§‹ç‚¹ï¼Œå®ç°æ¯ä¸ªç‚¹çš„è¯­ä¹‰é¢„æµ‹ã€‚

æˆ‘ä»¬é‡ç‚¹çœ‹ Encoder ç‰¹å¾æå–é˜¶æ®µã€‚

---

## ğŸ” 2. ç‰¹å¾æå–æ ¸å¿ƒæ­¥éª¤

### 2.1 Sampling - ä¸‹é‡‡æ ·ï¼ˆFarthest Point Sampling, FPSï¼‰

* ä»åŸå§‹ç‚¹äº‘ä¸­é€‰å‡ºä¸€éƒ¨åˆ†ç‚¹ä½œä¸ºâ€œä¸­å¿ƒç‚¹â€ï¼ˆcentroidsï¼‰ã€‚
* ä½¿ç”¨**Farthest Point Sampling (FPS)** æ–¹æ³•ï¼Œä¿è¯é‡‡æ ·ç‚¹åœ¨ç©ºé—´ä¸­åˆ†å¸ƒå‡åŒ€ã€‚
* æ¯ä¸€å±‚çš„é‡‡æ ·æ•°é€å±‚å‡å°‘ï¼Œå®ç°ç±»ä¼¼äºå›¾åƒä¸­ä¸‹é‡‡æ ·çš„ä½œç”¨ã€‚

ğŸ“Œ ç›®çš„ï¼šå‡å°è®¡ç®—é‡å¹¶ä¿ç•™ä»£è¡¨æ€§ç©ºé—´ç»“æ„ã€‚

---

### 2.2 Grouping - é‚»åŸŸæŸ¥è¯¢ï¼ˆBall Queryï¼‰

* å¯¹æ¯ä¸ªä¸­å¿ƒç‚¹ï¼ŒæŸ¥æ‰¾å…¶å‘¨å›´çš„ä¸€å®šèŒƒå›´å†…çš„ç‚¹ï¼ˆ **çƒå½¢æŸ¥è¯¢ Ball Query** ï¼Œä¹Ÿå¯ä»¥ç”¨ k-NNï¼‰ã€‚
* å¾—åˆ°å±€éƒ¨åŒºåŸŸçš„ç‚¹é›†ï¼Œå³ä¸€ä¸ªä¸ªâ€œç‚¹çš„å±€éƒ¨é‚»åŸŸâ€ã€‚

âš ï¸ Ball Query å¸¸ä½¿ç”¨å›ºå®šåŠå¾„ï¼Œæ¯”å¦‚ 0.1ã€0.2 ç­‰ã€‚

---

### 2.3 Feature Extraction - å±€éƒ¨ç‰¹å¾æå–ï¼ˆMini-PointNetï¼‰

å¯¹æ¯ä¸ªå±€éƒ¨ç‚¹é›†ï¼Œä½¿ç”¨ä¸€ä¸ªâ€œå±€éƒ¨ PointNetâ€æå–ç‰¹å¾ã€‚

æ¯ä¸ªå±€éƒ¨ PointNet çš„æ­¥éª¤ï¼š

1. **åæ ‡å½’ä¸€åŒ–** ï¼šå°†æ¯ä¸ªé‚»åŸŸç‚¹çš„åæ ‡å‡å»å…¶ä¸­å¿ƒç‚¹åæ ‡ï¼Œä½¿å¾—ç‰¹å¾å­¦ä¹ æ›´å…³æ³¨å±€éƒ¨ç»“æ„è€Œéå…¨å±€ä½ç½®ã€‚

   xiâ€²=xiâˆ’xcenterx_i' = x_i - x_{\text{center}}**x**i**â€²=**x**i****âˆ’**x**center**

1. **MLPï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰** ï¼šå¯¹æ¯ä¸ªç‚¹çš„å±€éƒ¨åæ ‡ï¼ˆå¯é™„å¸¦åŸå§‹ç‰¹å¾ï¼‰è¿›è¡Œç¼–ç ã€‚
2. **Max Pooling** ï¼šå°†è¯¥é‚»åŸŸå†…æ‰€æœ‰ç‚¹çš„ç‰¹å¾èšåˆä¸ºä¸€ä¸ªå±€éƒ¨ç‰¹å¾å‘é‡ã€‚
3. **è¾“å‡º** ï¼šæ¯ä¸ªä¸­å¿ƒç‚¹å¾—åˆ°ä¸€ä¸ªå±€éƒ¨åŒºåŸŸçš„å…¨å±€ç‰¹å¾ã€‚

ğŸ“Œ å°ç»“ï¼šè¿™ä¸€æ­¥æ˜¯æ ¸å¿ƒçš„â€œç‰¹å¾æå–â€é˜¶æ®µï¼Œå°†ç¨€ç–ã€æ— åºçš„ç‚¹é›†ç¼–ç ä¸ºæœ‰æ„ä¹‰çš„ç»“æ„ç‰¹å¾ã€‚

---

### 2.4 å¤šå±‚å †å ï¼ˆHierarchical Feature Learningï¼‰

å°†ä¸Šè¿° [Sampling â†’ Grouping â†’ Feature Extraction] è¿‡ç¨‹å †å å¤šå±‚ï¼Œæ¯”å¦‚ä¸‰å±‚ï¼š

* ç¬¬1å±‚ï¼šæå–å¾®è§‚å±€éƒ¨ç‰¹å¾ï¼ˆå°åŠå¾„ã€å°åŒºåŸŸï¼‰ã€‚
* ç¬¬2å±‚ï¼šæå–ä¸­ç­‰å°ºåº¦ç‰¹å¾ã€‚
* ç¬¬3å±‚ï¼šæå–æ›´å¤§çš„åŒºåŸŸç»“æ„ç‰¹å¾ã€‚

æ¯å±‚ä¹‹é—´é‡‡æ ·ç‚¹æ•°å‡å°‘ï¼Œæ„Ÿå—é‡å¢å¤§ï¼Œç‰¹å¾ç»´åº¦æå‡ã€‚

---

## ğŸ§  ç‰¹å¾æå–æ¨¡å—ç¤ºæ„å›¾ï¼ˆç®€åŒ–ç‰ˆï¼‰


```mermaid
graph TD
    A["è¾“å…¥ç‚¹äº‘[NÃ—3]"] --> B["FPSé‡‡æ ·"]
    B --> C["ä¸­å¿ƒç‚¹[MÃ—3]"]
    C --> D["Ball Queryï¼ˆåˆ†ç»„ï¼‰"]
    D --> E["é‚»åŸŸç‚¹[MÃ—KÃ—3]"]
    E --> F["å±€éƒ¨PointNet,ç‰¹å¾æå–"]
    F --> G["å±€éƒ¨ç‰¹å¾[MÃ—D]"]
```


---

## ğŸ“š æ€»ç»“

PointNet++ çš„ç‰¹å¾æå–éƒ¨åˆ†ä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒè¦ç´ ï¼š

| æ­¥éª¤               | æ–¹æ³•                             | ä½œç”¨                 |
| ------------------ | -------------------------------- | -------------------- |
| Sampling           | Farthest Point Sampling (FPS)    | é€‰å‡ºä»£è¡¨æ€§ä¸­å¿ƒç‚¹     |
| Grouping           | Ball Query / k-NN                | æ„å»ºå±€éƒ¨ç‚¹é›†         |
| Feature Extraction | å±€éƒ¨ PointNet (MLP + MaxPooling) | ä»é‚»åŸŸä¸­æå–ç»“æ„ç‰¹å¾ |
| å¤šå±‚å †å            | Hierarchical Structure           | æ•æ‰ä¸åŒå°ºåº¦å‡ ä½•ç‰¹å¾ |

---
